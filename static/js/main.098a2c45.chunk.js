(this.webpackJsonpiis_project=this.webpackJsonpiis_project||[]).push([[0],{187:function(e,t,n){},189:function(e,t,n){},210:function(e,t){},212:function(e,t){},227:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),i=n.n(r),c=n(12),s=n.n(c),o=(n(187),n(14)),l=n.n(o),j=n(33),d=n(25),u=n(26),b=(n(189),n(86)),h=n(13),O=Object(r.createContext)(null),x=n(24),p=(Object(x.a)(),n(111)),m=n.n(p),f="Festival",g="User/authenticate/",v="user/validate",w=n(154),y=m.a.create({baseURL:"https://festivalisprojectapi.azurewebsites.net/api/",httpsAgent:new w.Agent({rejectUnauthorized:!1}),headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}),S=function(){return y.get(f).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},C=function(e){return y.post(g,e)},k=function(){localStorage.clear()},N=function(e){return y.defaults.headers.common.Authorization="Bearer "+e,y.get(v)},I=function(){return y.defaults.headers.common.Authorization=""},P={login:function(e,t){return C(e).then((function(e){console.log(e.data);var t=e.data;if(200!==e.status){401===e.status&&B();var n=e&&e.status||e.statusText;return Promise.reject(n)}return t})).then((function(e){return console.log(e),localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e)),t({token:e.token,user:e}),e}))},logout:B,isValid:function(e){return N(e)}};function B(){localStorage.removeItem("token"),localStorage.removeItem("user")}var L=n(18),q=n(310),z=n(31),U=n(313),R=n(314),T=n(72),A=n(309),F=n(315),G=n(161),W=n.n(G),D=n(305),E=n(308),J=n(307),V=n(306),M=n(265),_=n(47),H=n(304),X=n(327);n(227);var Z=function(e){var t=e.name,n=e.label,r=e.required,i=e.errorobj,c=e.control,s=e.type,o=!1,l="";return i&&i.hasOwnProperty(t)&&(o=!0,l=i[t].message),"password"===s?Object(a.jsx)(_.Controller,Object(u.a)({as:X.a,name:t,control:c,type:"password",defaultValue:"",label:n,fullWidth:!0,InputLabelProps:{className:r?"required-label":"",required:r||!1},error:o,helperText:l},e)):Object(a.jsx)(_.Controller,Object(u.a)({as:X.a,name:t,control:c,defaultValue:"",label:n,fullWidth:!0,InputLabelProps:{className:r?"required-label":"",required:r||!1},error:o,helperText:l},e))};function K(e){var t=e.errors,n=e.control,r=e.methods,i=e.handleSubmit,c=e.onSubmit;return Object(a.jsx)("div",{style:{padding:"10px"},children:Object(a.jsx)(_.FormProvider,Object(u.a)(Object(u.a)({},r),{},{children:Object(a.jsx)("form",{onSubmit:i(c),children:Object(a.jsxs)(H.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",spacing:2,children:[Object(a.jsx)(H.a,{item:!0,xs:12,children:Object(a.jsx)(Z,{name:"username",label:"U\u017eivate\u013esk\xe9 meno",errorobj:t,type:"string",control:n})}),Object(a.jsx)(H.a,{item:!0,xs:12,children:Object(a.jsx)(Z,{name:"password",label:"Heslo",errorobj:t,control:n,type:"password"})})]})})}))})}var Q=n(158),Y=n(97),$=Y.a().shape({username:Y.b().required("Name is Required"),password:Y.b().required("Password is Required")}),ee=i.a.forwardRef((function(e,t){return Object(a.jsx)(M.a,Object(u.a)({direction:"up",ref:t},e))}));function te(e){var t=Object(_.useForm)({resolver:Object(Q.yupResolver)($)}),n=t.handleSubmit,i=t.errors,c=t.control,s=Object(r.useContext)(O).setUser,o=function(t){P.login(t,s),e.handleClose()};return Object(a.jsxs)(D.a,{open:e.openLoginDialog,TransitionComponent:ee,keepMounted:!0,onClose:e.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(a.jsx)(V.a,{id:"alert-dialog-slide-title",children:"Prihl\xe1senie"}),Object(a.jsx)(J.a,{children:Object(a.jsx)(K,{errors:i,control:c,methods:t,handleSubmit:n,onSubmit:o})}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(A.a,{onClick:e.handleClose,color:"primary",children:"Zru\u0161i\u0165"}),Object(a.jsx)(A.a,{variant:"contained",color:"primary",onClick:n(o),children:"Prihl\xe1si\u0165"})]})]})}var ne=n(159),ae=n.n(ne),re=n(162),ie=n.n(re),ce=n(165),se=n(311),oe=Object(q.a)({root:{marginTop:"50px"}});function le(e){var t=oe(),n=e.openLogoutDialog,i=e.handleLogoutClose,c=Object(r.useContext)(O).setUser,s=Object(h.f)();return Object(a.jsx)("div",{children:Object(a.jsx)(ce.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:i,className:t.root,children:Object(a.jsx)(se.a,{onClick:function(){i(),k(),I(),c({token:void 0,user:void 0}),s.push("/")},children:"Logout"})})})}var je=n(160),de=n.n(je),ue=n(3),be=n(163),he=n.n(be),Oe=n(164),xe=n.n(Oe),pe=n(317),me=n(303),fe=n(266),ge=n(318),ve=n(114),we=n.n(ve),ye=n(115),Se=n.n(ye),Ce=n(319),ke=n(316),Ne=n(312),Ie=240,Pe=Object(q.a)((function(e){return{root:{display:"flex",flexGrow:1},title:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:Ie,width:"calc(100% - ".concat(Ie,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Ie,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Ie,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(L.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},navStyle:{color:"white"}}}));function Be(){var e,t,n=Pe(),c=Object(z.a)(),s=Object(h.f)(),o=i.a.useState(!1),l=Object(d.a)(o,2),j=l[0],u=l[1],b=i.a.useState(null),x=Object(d.a)(b,2),p=x[0],m=x[1],f=i.a.useState(!1),g=Object(d.a)(f,2),v=g[0],w=g[1],y=Object(r.useContext)(O).user,S=function(e){m(e.currentTarget)};return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)(Ne.a,{}),Object(a.jsx)(U.a,{position:"fixed",className:Object(ue.a)(n.appBar,Object(L.a)({},n.appBarShift,v)),children:Object(a.jsxs)(R.a,{children:[Object(a.jsx)(F.a,{edge:"start",color:"inherit","aria-label":"menu",className:Object(ue.a)(n.menuButton,Object(L.a)({},n.hide,v)),onClick:function(){w(!0)},children:Object(a.jsx)(ae.a,{})}),Object(a.jsx)(T.a,{variant:"h6",className:n.title,children:"Festivaly"}),y.user?Object(a.jsx)(F.a,{edge:"end",className:n.menuButton,color:"inherit","aria-label":"menu",children:Object(a.jsx)(de.a,{onClick:function(){s.push("/settings")}})}):null,Object(a.jsx)(F.a,{edge:"end",className:n.menuButton,color:"inherit","aria-label":"menu",children:Object(a.jsx)(W.a,{})}),y.user?Object(a.jsx)(F.a,{edge:"end",className:n.menuButton,color:"inherit","aria-label":"menu",onClick:S,children:Object(a.jsx)(ie.a,{})}):Object(a.jsx)(A.a,{color:"inherit",onClick:function(){u(!0)},children:"Prihl\xe1si\u0165"})]})}),Object(a.jsx)(te,{handleClose:function(){u(!1)},openLoginDialog:j}),Object(a.jsx)(le,{handleLogoutOpen:S,handleLogoutClose:function(){m(null)},openLogoutDialog:p}),Object(a.jsxs)(ke.a,{variant:"permanent",className:Object(ue.a)(n.drawer,(e={},Object(L.a)(e,n.drawerOpen,v),Object(L.a)(e,n.drawerClose,!v),e)),classes:{paper:Object(ue.a)((t={},Object(L.a)(t,n.drawerOpen,v),Object(L.a)(t,n.drawerClose,!v),t))},children:[Object(a.jsx)("div",{className:n.toolbar,children:Object(a.jsx)(F.a,{onClick:function(){w(!1)},children:"rtl"===c.direction?Object(a.jsx)(he.a,{}):Object(a.jsx)(xe.a,{})})}),Object(a.jsx)(pe.a,{}),Object(a.jsx)(me.a,{children:["Festivaly","Interpreti","Placeholder1","Placeholder2"].map((function(e,t){return Object(a.jsxs)(fe.a,{button:!0,children:[Object(a.jsx)(ge.a,{children:t%2===0?Object(a.jsx)(we.a,{}):Object(a.jsx)(Se.a,{})}),Object(a.jsx)(Ce.a,{primary:e})]},e)}))}),Object(a.jsx)(pe.a,{}),Object(a.jsx)(me.a,{children:["Placeholder3","Placeholder4","Placeholder5"].map((function(e,t){return Object(a.jsxs)(fe.a,{button:!0,children:[Object(a.jsx)(ge.a,{children:t%2===0?Object(a.jsx)(we.a,{}):Object(a.jsx)(Se.a,{})}),Object(a.jsx)(Ce.a,{primary:e})]},e)}))})]})]})}var Le=n(326),qe=n(96),ze=n.n(qe),Ue=n(328),Re=n(320),Te=n(321),Ae=n(324),Fe=n(323),Ge=n(322),We=Object(q.a)({root:{maxWidth:345},media:{height:140}}),De=function(e){var t=e.festival,n=We();return Object(a.jsxs)(Re.a,{className:n.root,children:[Object(a.jsxs)(Te.a,{children:[Object(a.jsx)(Ge.a,{className:n.media,image:t.logoUri,title:"Contemplative Reptile"}),Object(a.jsx)(Fe.a,{children:Object(a.jsx)(T.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name})})]}),Object(a.jsxs)(Ae.a,{children:[Object(a.jsx)(A.a,{size:"small",color:"primary",children:"Share"}),Object(a.jsx)(A.a,{size:"small",color:"primary",children:"Learn More"})]})]})},Ee=ze()((function(e){return{toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),Je=function(){var e=Ee(),t=Object(r.useState)([]),n=Object(d.a)(t,2),i=n[0],c=n[1];return Object(r.useEffect)((function(){S().then((function(e){return c(e)}))}),[]),Object(a.jsxs)("main",{className:e.content,children:[Object(a.jsx)("div",{className:e.toolbar}),Object(a.jsx)("div",{style:{padding:"20px"},children:Object(a.jsx)(Le.a,{maxWidth:"lg",children:Object(a.jsx)(H.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,children:i.map((function(e,t){return Object(a.jsx)(H.a,{item:!0,children:Object(a.jsx)(De,{festival:e})},t)}))})})})]})},Ve=ze()((function(e){return{toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),Me=function(){var e=Ve(),t=Object(x.a)(),n=Object(r.useState)({token:void 0,user:void 0}),i=Object(d.a)(n,2),c=i[0],s=i[1];return Object(r.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=localStorage.getItem("token"))?(t="",localStorage.setItem("token",""),localStorage.setItem("user","")):P.isValid(t).then((function(e){if(200===e.status){var n=JSON.parse(localStorage.getItem("user"));s({token:t,user:n})}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsx)("div",{children:Object(a.jsx)(O.Provider,{value:{user:c,setUser:s},children:Object(a.jsx)(b.a,{history:t,children:Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(Be,{}),Object(a.jsxs)(h.c,{children:[Object(a.jsx)(h.a,{exact:!0,path:"/",children:Object(a.jsx)(Je,{})}),Object(a.jsx)(h.a,{exact:!0,path:"/register",children:Object(a.jsx)("div",{children:'"hello world register"'})}),Object(a.jsx)(h.a,{exact:!0,path:"/settings",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Be,{}),Object(a.jsxs)("main",{className:e.content,children:[Object(a.jsx)("div",{className:e.toolbar}),Object(a.jsx)("div",{style:{padding:"20px"},children:Object(a.jsx)(Le.a,{maxWidth:"lg",children:Object(a.jsx)("p",{children:' "Setting you mother fucker"'})})})]})]})}),Object(a.jsx)(h.a,{exact:!0,path:"/interprets",children:Object(a.jsx)("p",{children:" helllo world"})})]})]})})})})};s.a.render(Object(a.jsx)(Me,{}),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.098a2c45.chunk.js.map